Read `todos.md` and ultrathink about how to adapt or add to the current game systems for the requested functionality.

This game is not yet released and backwards compatability is not required Do not create legacy compatability related logic.

Check for share library functions that can be used or updated to implement the requested functionality.

Once you have a comprehensive step by step plan, implement it.