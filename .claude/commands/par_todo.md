read todos.md and ultrathink about how to adapt the current game systems for the requested functionality